<div id="app" class="layout horizontal" style="height: 100%"><div id="canvas-div" class="layout vertical" style="position: relative; flex:2;"><canvas id="my-canvas" ref="canvas" @drop="drop" @dragover="dragOver" @dragenter="dragEnter" @dragleave="dragLeave" style="max-width: 100%; max-height: 100%;"></canvas><div style="position: absolute;left: 0;bottom: 0;color:black;"><div style="font: 20px bold;">{{tipFont}}</div><div>画布支持拖拽TTF字体，图片文件</div></div></div><div class="layout vertical flex-1"><div class="layout flex-1" style="overflow-y: scroll;overflow-x: hidden;"><div class="layout vertical" style="width: 100%;"><div class="section-space"><ui-section header="基础设置" expand class="config"><ui-prop><ui-label slot="label" tooltip="支持拖拽TTF字体到画布">字体文件(TTF)</ui-label><div slot="content" class="layout horizontal width100"><ui-input class="flex-1" :value="font.file" readonly="readonly"></ui-input><ui-button @confirm="onClickImportTTF" class="blue small">...</ui-button></div></ui-prop><ui-prop><ui-label slot="label">背景色</ui-label><ui-color slot="content" :value="canvasBgColor" class="width100" @change="onUpdateCanvasBg"></ui-color></ui-prop><ui-prop><ui-label slot="label">字体颜色</ui-label><ui-color slot="content" class="width100" :value="font.color" @change="onUpdateFontColor"></ui-color></ui-prop><ui-prop><ui-label slot="label">字体大小</ui-label><ui-num-input slot="content" :value="font.size" @change="onUpdateFontSize" min="0" max="400" step="1" snap precision="1"></ui-num-input></ui-prop><ui-prop><ui-label slot="label">字符间距</ui-label><ui-num-input slot="content" :value="space" @change="onUpdateFontSpace" min="0" max="100" snap step="1" precision="1"></ui-num-input></ui-prop><ui-prop><ui-label slot="label">常用推荐字符集</ui-label><ui-select slot="content" @change="onChangeCommonUseLetter" :value="curUseLetter" class="flex-1"><option v-for="item in commonUseLetters" :value="item.id">{{item.name}}</option></ui-select></ui-prop><ui-prop><ui-label slot="label">文本</ui-label><ui-textarea slot="content" @change="onChangeText" :value="font.string" class="flex-1"></ui-textarea></ui-prop></ui-section></div><div class="section-space"><ui-section expand class="config"><div slot="header" class="header flex-1 layout horizontal"><ui-checkbox :value="outline.enable" @change="onEnabledOutline">描边</ui-checkbox></div><ui-prop><ui-label slot="label">描边宽度</ui-label><ui-num-input slot="content" :value="outline.width" @change="onUpdateOutlineWidth" type="number" min="0" max="10" step="0.1"></ui-num-input></ui-prop><ui-prop><ui-label slot="label">描边颜色</ui-label><ui-color slot="content" :value="outline.color" class="width100" @change="onUpdateOutlineColor"></ui-color></ui-prop></ui-section></div><div class="section-space"><ui-section expand class="config"><div slot="header" class="header flex-1 layout horizontal"><ui-checkbox v-value="gradual.enable" @change="onEnabledGradual">渐变</ui-checkbox></div><ui-select v-show="false"><option value="1">线性渐变</option><option value="2">放射渐变</option><option value="3">循环渐变</option></ui-select><ui-prop><ui-label slot="label">方向</ui-label><ui-select slot="content" class="flex-1" :value="gradual.direction" @change="onUpdateGradualDirection"><option v-for="direction in directions" :value="direction.value">{{direction.name}}</option></ui-select></ui-prop><ui-prop><ui-label slot="label">起始颜色</ui-label><ui-color slot="content" class="width100" :value="gradual.start" @change="onUpdateStartColor"></ui-color></ui-prop><ui-prop><ui-label slot="label">结束颜色</ui-label><ui-color slot="content" class="width100" :value="gradual.end" @change="onUpdateEndColor"></ui-color></ui-prop></ui-section></div><div class="section-space"><ui-section expand class="config"><div slot="header" class="header flex-1 layout horizontal"><ui-checkbox v-value="shadow.enable" tooltip="全局生效" @change="onUpdateShadow">阴影</ui-checkbox></div><ui-prop><ui-label slot="label">阴影偏移</ui-label><div slot="content" class="layout horizontal"><div style="margin:0 5px;">X:</div><ui-num-input :value="shadow.offset.x" @change="onChangeShadowX"></ui-num-input><div style="margin:0 5px;">Y:</div><ui-num-input :value="shadow.offset.y" @change="onChangeShadowY"></ui-num-input></div></ui-prop><ui-prop><ui-label slot="label">阴影颜色</ui-label><ui-color slot="content" class="width100" :value="shadow.color" @change="onUpdateShadowColor"></ui-color></ui-prop><ui-prop><ui-label slot="label">模糊程度</ui-label><ui-num-input slot="content" min="0" :value="shadow.dim" @change="onUpdateShadowDim"></ui-num-input></ui-prop></ui-section></div><div class="section-space"><ui-section expand class="config"><div slot="header" class="header flex-1 layout horizontal"><ui-checkbox :value="texture.enable" @change="onEnabledTexture">材质</ui-checkbox></div><ui-prop><ui-label slot="label" tooltip="支持拖拽图片到画布">纹理路径</ui-label><div slot="content" class="layout horizontal width100"><ui-input class="flex-1" :value="texture.file" @change="onUpdateTextureFile"></ui-input><ui-button @confirm="onClickSelectTextureFile">...</ui-button></div></ui-prop><div style="max-width: 100%;height: 100px;display: flex;flex-direction: row;"><div style="width: 35%;display: flex;align-content: center;align-items: center;justify-content: center;justify-items: center;"><img :src="texture.file" style="max-width: 100%;max-height: 100%;object-fit: contain;"></div><div style="display: flex;flex-direction: column; flex: 1;justify-content: center;margin-left: 10px;"><div style="color: white">{{tipTexture1}}</div><div style="color: #00ff84">{{tipTexture2}}</div></div></div></ui-section></div></div></div><hr style="margin: 2px 0 2px 0;"><div><ui-section header="保存设置" expand><ui-prop><ui-label slot="label">路径</ui-label><div slot="content" class="layout horizontal width100"><div @click="onClickOpenDir" style="cursor:pointer;"><ui-input :value="savePath" class="flex-1" readonly="readonly"></ui-input></div><ui-button @confirm="onClickSelectSavePath">...</ui-button></div></ui-prop><ui-prop><ui-label tooltip="不需要拼写后缀名" slot="label">文件名</ui-label><ui-input slot="content" :value="saveName" @blur="onChangeSaveName" class="flex-1"></ui-input></ui-prop><div style="display: flex; flex-direction: row-reverse;"><ui-button @confirm="onClickSaveFnt" class="green">保存</ui-button></div></ui-section></div></div><canvas ref="opentype" v-show="false" style="width:800px;height: 800px;" width="800px" height="800px"></canvas></div>